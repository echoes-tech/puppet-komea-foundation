# HTTP
server.port = <%= @server_port %>
management.port <%= @management_port %>
server.context-path=/foundation

# For authentication 2 profiles are available: internalAuth and casAuth
spring.profiles.active=casAuth

### SECURITY
ksf.security.passwordStrength=-1
ksf.security.allowURLRewriting=false
ksf.security.internalRememberToken=<%= @ksf_security_internal_remember_token %>
security.basic.enabled=false
management.security.enabled=true

# Plug-ins shared properties

ksf.scmUrl=ssh://ksf
ksf.projectScmUrlPattern=%{scmUrl}/%{projectKey}.git
ksf.git.displayedUri=ssh://git@<%= @ksf_fqdn %>:6969/%{projectKey}.git

# Foreman plug-in
ksf.foreman.url = https://<%= @ksf_fqdn %>/foreman
ksf.foreman.username = <%= @superuser_login %>
ksf.foreman.password = <%= @superuser_password %>

ksf.puppet.modulepath = /etc/puppet/environments
ksf.foreman.puppet.configuration.create.parameters.enabled = true

ksf.foreman.host.smartProxyId=<%= @foreman_host_smartProxyId %>
ksf.foreman.host.computeProfileId=<%= @foreman_host_computeProfileId %>
ksf.foreman.host.computeResourceId=<%= @foreman_host_computeResourceId %>
ksf.foreman.host.architectureId=<%= @foreman_host_architectureId %>
ksf.foreman.host.domainId=<%= @foreman_host_domainId %>
ksf.foreman.host.rootPassword=<%= @foreman_host_defaultPassword %>

ksf.foreman.hostgroup.subnetId=<%= @foreman_hostGroup_subnetId %>
ksf.foreman.hostgroup.realmId=<%= @foreman_hostGroup_realmId %>
ksf.foreman.hostgroup.ptableId=<%= @foreman_hostGroup_ptableId %>
ksf.foreman.hostgroup.mediumId=<%= @foreman_hostGroup_mediumId %>

ksf.foreman.hostgroup.operatingsystemId=<%= @foreman_hostGroup_operatingsystemId %>
ksf.foreman.provisionMethod=<%= @foreman_provisionMethod %>
ksf.foreman.imageId=<%= @foreman_imageId %>

ksf.foreman.puppetModuleInstallScript = /home/ksfuser/install_module.sh
ksf.foreman.unusedIpScript = /home/ksfuser/unused_ip.sh

# Redmine plug-in
ksf.redmine.url=https://<%= @ksf_fqdn %>/redmine
ksf.redmine.apiAccessKey=e7b5c9d5a95157f75f7e8058256c10e1fa7a3338
ksf.redmine.resultItemsLimit=10
ksf.redmine.featureTrackerId=2
ksf.redmine.featureStatusNewId=1
ksf.redmine.featureStatusAssignedId=2
ksf.redmine.featureStatusClosedId=5
ksf.redmine.releaseTicketMessagePattern=%{projectName} %{releaseVersion} release
ksf.redmine.adminUsername=<%= @superuser_login %>
ksf.redmine.featureIds=1,2,3,4,5
ksf.redmine.taskTrackerId=10

ksf.redmine.hackBugApi = true

# Jenkins plug-in
ksf.jenkins.url=https://<%= @ksf_fqdn %>/jenkins
ksf.jenkins.templateName = <%= @jenkins_job_template %>
# to be parametrized, temporarily hard-coded
ksf.jenkins.templateFolder= /opt/echoes/foundation/resources/templates
ksf.jenkins.useFolders=<%= @jenkins_use_folders %>
ksf.jenkins.builsdPerJobLimit=<%= @jenkins_builds_per_job_limit %>
ksf.jenkins.job.releasePattern=<%= @jenkins_job_release_pattern %>
ksf.jenkins.job.featurePattern=<%= @jenkins_job_feature_pattern %>
ksf.jenkins.job.namePattern=%{projectName}-%{branchName}

# Build System
ksf.buildSystem.defaultScript=<%= @build_system_default_script %>

# Artifact management
ksf.artifacts.publishScript=<%= @artifacts_publish_script %>

# Git plug-in
ksf.git.workingDirectory=<%= @git_working_directory %>
ksf.git.branch.releasePattern=<%= @git_branch_release_pattern %>
ksf.git.branch.featurePattern=<%= @git_branch_feature_pattern %>
ksf.git.username=<%= @superuser_login %>
ksf.git.password=

# Nexus plug-in
ksf.nexus.url=https://<%= @ksf_fqdn %>/nexus/

# CQRS
corolla.settings.cqrs.loggingEnabled=true
corolla.settings.cqrs.profilingEnabled=true
corolla.settings.cqrs.tracingEnabled=false
corolla.settings.cqrs.traceFile=command.json
corolla.settings.cqrs.asyncEventQueries=false

corolla.settings.cqrs.corePoolSize=4
corolla.settings.cqrs.maxPoolSize=-1
corolla.settings.cqrs.queueCapacity=-1
corolla.settings.cqrs.threadPriority=5
corolla.settings.cqrs.keepAliveSeconds=60

#MONGO
mongo.host=localhost
mongo.port=27017
mongo.dbname=corolla

spring.jpa.hibernate.ddl-auto=create-drop

spring.thymeleaf.check-template-location=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=XHTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.content-type=text/html
spring.thymeleaf.cache=false

spring.mvc.favicon.enabled=false

logging.level.org.springframework.web=INFO
logging.level.org.hibernate=ERROR

# Central Authentication Service
ksf.security.cas.loginUrl = https://<%= @ksf_fqdn %>/cas-overlay-1.0/login
ksf.security.cas.logoutUrl = https://<%= @ksf_fqdn %>/cas-overlay-1.0/logout
ksf.security.cas.prefix = https://<%= @ksf_fqdn %>/cas-overlay-1.0/
ksf.security.cas.serviceUrl = https://<%= @ksf_fqdn %>/foundation/login/cas
ksf.security.cas.serviceHome = https://<%= @ksf_fqdn %>/foundation

# Dashboard URL
ksf.dashboard.url=https://<%= @ksf_fqdn %>/
ksf.dashboard.metrics.url=<%= dashboard_metrics_url %>
ksf.dashboard.organization.url=https://<%= @ksf_fqdn %>/organization
ksf.dashboard.timeseries.url=https://<%= @ksf_fqdn %>/timeseries/
ksf.dashboard.customPeriod=35
ksf.dashboard.projectType=project
ksf.dashboard.jobType=job
ksf.dashboard.username=<%= @superuser_login %>
ksf.dashboard.password=<%= @superuser_password %>
ksf.dashboard.liferay.protocol=https
ksf.dashboard.liferay.host=<%= @ksf_fqdn %>
ksf.dashboard.liferay.defaultTemplateName=Komea Site Template
ksf.dashboard.liferay.defaultCompanyWebId=liferay.com
ksf.dashboard.liferay.defaultUserGroupName=komea
ksf.dashboard.metrics.averageTimeOnSite=true

# Git plug-in
ksf.git.branch.releasePattern=release-%{releaseVersion}
ksf.git.branch.featurePattern=feat-%{featureId}-%{featureDescription}
ksf.git.strictHostKeyChecking=false

# Allows to serve static content located in external locations
# ksf.resources.staticLocation: list of locations separated by commas
# ksf.resources.staticLocationsPathPatterns: list of patterns separated by commas
#ksf.resources.staticLocations = file/:<%= @resources_static_locations %>
ksf.resources.staticLocationsPathPatterns = /externalResources/**
